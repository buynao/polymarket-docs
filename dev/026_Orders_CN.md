# 订单

## 概述

所有订单都表示为限价订单（可以是市价成交的）。底层订单原语必须符合链上二元限价订单协议合约所期望的可执行形式。准备这样的订单相当复杂（结构化、哈希、签名），因此 Polymarket 建议使用开源的 TypeScript、Python 和 Golang 库。

## 授权

要下单，必须由资金地址为交易合约的指定 `maker` 资产设置授权。买入时，这意味着资金方必须设置大于或等于支出金额的 USDC 授权。卖出时，资金方必须设置大于或等于卖出金额的条件代币授权。这允许交易合约根据用户创建并由运营商匹配的签名订单指令执行结算。

## 签名类型

Polymarket 的 CLOB 支持 3 种签名类型。订单必须标识它们使用的签名类型。可用的 TypeScript 和 Python 客户端通过允许在初始化时指定资金地址和签名者类型，抽象了使用以下签名类型签名和准备订单的复杂性。支持的签名类型有：

类型 | ID | 描述
---|---|---
EOA | 0 | 由 EOA 签署的 EIP712 签名
POLY_PROXY | 1 | 由与资金 Polymarket 代理钱包关联的签名者签署的 EIP712 签名
POLY_GNOSIS_SAFE | 2 | 由与资金 Polymarket Gnosis Safe 钱包关联的签名者签署的 EIP712 签名

## 有效性检查

订单会被持续监控以确保它们保持有效。具体来说，这包括持续跟踪底层余额、授权和链上订单取消。任何被发现故意滥用这些检查（基本上是实时的）的做市商都将被列入黑名单。

此外，在市场中下单有一定的限制。具体来说，您只能下达总和小于或等于每个市场可用余额的订单。例如，如果您的资金钱包中有 500 USDC，您可以下达一个订单以 $0.50 的价格在 marketA 购买 1000 个 YES，然后该市场的任何额外买单都将被拒绝，因为您的全部余额已为第一个（也是唯一的）买单预留。更明确地说，您可以下单的最大规模是：

maxOrderSize = underlyingAssetBalance − Σ(orderSize − orderFillAmount)